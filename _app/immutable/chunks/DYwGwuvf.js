import{i as x,E as W,h as I,K as H,S as Z,F as $,x as V,H as G,I as P,J as Y,M as y,k,T as Q,U as j,V as L,c as ee,W as S,j as F,s as re,X as ne,Y as fe,Z as z,_ as le,$ as ae,R as ie,a0 as U,a1 as se,d as q,f as B,a2 as D,a3 as ue,e as te,a4 as oe}from"./jF5NDd6F.js";function _e(e,l){return l}function ve(e,l,a){for(var s=[],p=l.length,u,i=l.length,n=0;n<p;n++){let t=l[n];B(t,()=>{if(u){if(u.pending.delete(t),u.done.add(t),u.pending.size===0){var c=e.outrogroups;O(z(u.done)),c.delete(u),c.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var o=s.length===0&&a!==null;if(o){var f=a,v=f.parentNode;ue(v),v.append(f),e.items.clear()}O(l,!o)}else u={pending:new Set(l),done:new Set},(e.outrogroups??=new Set).add(u)}function O(e,l=!0){for(var a=0;a<e.length;a++)te(e[a],l)}var X;function he(e,l,a,s,p,u=null){var i=e,n=new Map;{var o=e;i=I?H(Z(o)):o.appendChild(x())}I&&$();var f=null,v=ne(()=>{var d=a();return fe(d)?d:d==null?[]:z(d)}),t,c=!0;function C(){h.fallback=f,ce(h,t,i,l,s),f!==null&&(t.length===0?(f.f&S)===0?q(f):(f.f^=S,R(f,null,i)):B(f,()=>{f=null}))}var r=W(()=>{t=V(v);var d=t.length;let T=!1;if(I){var _=G(i)===P;_!==(d===0)&&(i=Y(),H(i),y(!1),T=!0)}for(var b=new Set,m=ee,w=re(),N=0;N<d;N+=1){I&&k.nodeType===Q&&k.data===j&&(i=k,T=!0,y(!1));var M=t[N],g=s(M,N),E=c?null:n.get(g);E?(E.v&&L(E.v,M),E.i&&L(E.i,N),w&&m.skipped_effects.delete(E.e)):(E=de(n,c?i:X??=x(),M,g,N,p,l,a),c||(E.e.f|=S),n.set(g,E)),b.add(g)}if(d===0&&u&&!f&&(c?f=F(()=>u(i)):(f=F(()=>u(X??=x())),f.f|=S)),I&&d>0&&H(Y()),!c)if(w){for(const[J,K]of n)b.has(J)||m.skipped_effects.add(K.e);m.oncommit(C),m.ondiscard(()=>{})}else C();T&&y(!0),V(v)}),h={effect:r,items:n,outrogroups:null,fallback:f};c=!1,I&&(i=k)}function ce(e,l,a,s,p){var u=l.length,i=e.items,n=e.effect.first,o,f=null,v=[],t=[],c,C,r,h;for(h=0;h<u;h+=1){if(c=l[h],C=p(c,h),r=i.get(C).e,e.outrogroups!==null)for(const g of e.outrogroups)g.pending.delete(r),g.done.delete(r);if((r.f&S)!==0)if(r.f^=S,r===n)R(r,null,a);else{var d=f?f.next:n;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),A(e,f,r),A(e,r,d),R(r,d,a),f=r,v=[],t=[],n=f.next;continue}if((r.f&D)!==0&&q(r),r!==n){if(o!==void 0&&o.has(r)){if(v.length<t.length){var T=t[0],_;f=T.prev;var b=v[0],m=v[v.length-1];for(_=0;_<v.length;_+=1)R(v[_],T,a);for(_=0;_<t.length;_+=1)o.delete(t[_]);A(e,b.prev,m.next),A(e,f,b),A(e,m,T),n=T,f=m,h-=1,v=[],t=[]}else o.delete(r),R(r,n,a),A(e,r.prev,r.next),A(e,r,f===null?e.effect.first:f.next),A(e,f,r),f=r;continue}for(v=[],t=[];n!==null&&n!==r;)(o??=new Set).add(n),t.push(n),n=n.next;if(n===null)continue}(r.f&S)===0&&v.push(r),f=r,n=r.next}if(e.outrogroups!==null){for(const g of e.outrogroups)g.pending.size===0&&(O(z(g.done)),e.outrogroups?.delete(g));e.outrogroups.size===0&&(e.outrogroups=null)}if(n!==null||o!==void 0){var w=[];if(o!==void 0)for(r of o)(r.f&D)===0&&w.push(r);for(;n!==null;)(n.f&D)===0&&n!==e.fallback&&w.push(n),n=n.next;var N=w.length;if(N>0){var M=u===0?a:null;ve(e,w,M)}}}function de(e,l,a,s,p,u,i,n){var o=(i&le)!==0?(i&ae)===0?ie(a,!1,!1):U(a):null,f=(i&se)!==0?U(p):null;return{v:o,i:f,e:F(()=>(u(l,o??a,f??p,n),()=>{e.delete(s)}))}}function R(e,l,a){if(e.nodes)for(var s=e.nodes.start,p=e.nodes.end,u=l&&(l.f&S)===0?l.nodes.start:a;s!==null;){var i=oe(s);if(u.before(s),s===p)return;s=i}}function A(e,l,a){l===null?e.effect.first=a:l.next=a,a===null?e.effect.last=l:a.prev=l}function pe(e,l,a){var s=e==null?"":""+e;return l&&(s=s?s+" "+l:l),s===""?null:s}function Ee(e,l){return e==null?null:String(e)}function Te(e,l,a,s,p,u){var i=e.__className;if(I||i!==a||i===void 0){var n=pe(a,s);(!I||n!==e.getAttribute("class"))&&(n==null?e.removeAttribute("class"):e.className=n),e.__className=a}return u}export{he as e,_e as i,Te as s,Ee as t};
